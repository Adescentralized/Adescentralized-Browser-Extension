(()=>{"use strict";var n,e={74:(n,e,o)=>{var r=o(72),t=o.n(r),a=o(825),A=o.n(a),s=o(659),i=o.n(s),l=o(56),c=o.n(l),d=o(159),p=o.n(d),u=o(113),E=o.n(u),m=o(317),g={};g.styleTagTransform=E(),g.setAttributes=c(),g.insert=i().bind(null,"head"),g.domAPI=A(),g.insertStyleElement=p(),t()(m.A,g),m.A&&m.A.locals&&m.A.locals},79:(n,e,o)=>{o.d(e,{ApiService:()=>t});const r="http://localhost:3001";class t{static async makeRequest(n,e={}){try{console.log(`üåê Making API request to: ${r}${n}`),console.log("Request options:",e);const o=await this.getAuthToken(),t=await fetch(`${r}${n}`,{...e,headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`},...e.headers}});if(console.log(`üì° Response status: ${t.status} ${t.statusText}`),!t.ok){let n=`HTTP ${t.status}: ${t.statusText}`;try{const e=await t.text();if(console.log("‚ùå Error response body:",e),e.startsWith("{")){const o=JSON.parse(e);n=o.error||o.message||n}else n=e.includes("<html>")?`Server returned HTML instead of JSON. Check if API is running on ${r}`:e||n}catch(n){console.log("Could not parse error response")}return{success:!1,error:n}}const a=await t.text();if(console.log("üì¶ Raw response:",a),!a.startsWith("{")&&!a.startsWith("["))return{success:!1,error:`Server returned non-JSON response: ${a.substring(0,100)}...`};const A=JSON.parse(a);return console.log("‚úÖ Parsed response data:",A),{success:!0,data:A}}catch(n){return console.error("üí• API request failed:",n),n instanceof TypeError&&n.message.includes("fetch")?{success:!1,error:`Network error: Could not connect to API at ${r}. Is the server running?`}:{success:!1,error:n instanceof Error?n.message:"Request failed"}}}static async getAuthToken(){try{return(await chrome.storage.local.get(["authToken"])).authToken||null}catch(n){return console.error("Failed to get auth token:",n),null}}static async setAuthToken(n){try{await chrome.storage.local.set({authToken:n})}catch(n){console.error("Failed to set auth token:",n)}}static async clearAuthToken(){try{await chrome.storage.local.remove(["authToken"])}catch(n){console.error("Failed to clear auth token:",n)}}static async login(n,e){const o=await this.makeRequest("/wallet/login",{method:"POST",body:JSON.stringify({email:n,password:e})});return o.success&&o.data?.token&&await this.setAuthToken(o.data.token),o}static async createAccount(n,e,o){return this.makeRequest("/wallet/",{method:"POST",body:JSON.stringify({email:n,password:e,name:o})})}static async getUserWalletByEmail(n){return this.makeRequest(`/wallet/${n}`)}static async deleteUserByEmail(n){return this.makeRequest(`/wallet/${n}`,{method:"DELETE"})}static async createTransfer(n,e,o){return this.makeRequest("/transfer",{method:"POST",body:JSON.stringify({fromEmail:n,toPublicKey:e,amount:parseFloat(o)})})}static async getDashboard(n){return this.makeRequest(`/dashboard/${n}`)}static async createAdvertisement(n){const e=new FormData;e.append("title",n.title),n.description&&e.append("description",n.description),e.append("campaignImage",n.campaignImage),e.append("targetUrl",n.targetUrl),e.append("budgetXlm",n.budgetXlm.toString()),e.append("costPerClick",n.costPerClick.toString()),n.tags&&e.append("tags",n.tags);try{console.log(`üåê Making form-data API request to: ${r}/advertisements`);const n=await this.getAuthToken(),o=await fetch(`${r}/advertisements`,{method:"POST",headers:{...n&&{Authorization:`Bearer ${n}`}},body:e});if(console.log(`üì° Response status: ${o.status} ${o.statusText}`),!o.ok){let n=`HTTP ${o.status}: ${o.statusText}`;try{const e=await o.text();if(console.log("‚ùå Error response body:",e),e.startsWith("{")){const o=JSON.parse(e);n=o.error||o.message||n}}catch(n){console.log("Could not parse error response")}return{success:!1,error:n}}const t=await o.text(),a=JSON.parse(t);return console.log("‚úÖ Advertisement created:",a),{success:!0,data:a}}catch(n){return console.error("üí• Advertisement creation failed:",n),{success:!1,error:n instanceof Error?n.message:"Failed to create advertisement"}}}static async getUserAdvertisements(n){return this.makeRequest(`/advertisements/${n}`)}static async updateAdvertisement(n,e){return this.makeRequest(`/advertisements/${n}`,{method:"PUT",body:JSON.stringify(e)})}static async deleteAdvertisement(n){return this.makeRequest(`/advertisements/${n}`,{method:"DELETE"})}static async createSite(n){return this.makeRequest("/sites",{method:"POST",body:JSON.stringify(n)})}static async getUserSites(n){return this.makeRequest(`/sites/${n}`)}static async updateSite(n,e){return this.makeRequest(`/sites/${n}`,{method:"PUT",body:JSON.stringify(e)})}static async getSiteSDKCode(n){return this.makeRequest(`/sites/${n}/sdk-code`)}static async healthCheck(){return this.makeRequest("/health-check")}static async testConnection(){try{console.log("üîç Testing API connection...");const n=Date.now(),e=await this.healthCheck(),o=Date.now()-n;return e.success?(console.log(`‚úÖ API connection successful in ${o}ms`),{success:!0,data:{message:`API connected successfully in ${o}ms`,timestamp:Date.now()}}):(console.log("‚ùå API health check failed:",e.error),{success:!1,error:e.error||"Health check failed"})}catch(n){return console.error("üí• API connection test failed:",n),{success:!1,error:`Connection test failed: ${n instanceof Error?n.message:"Unknown error"}`}}}}},115:(n,e,o)=>{var r=o(72),t=o.n(r),a=o(825),A=o.n(a),s=o(659),i=o.n(s),l=o(56),c=o.n(l),d=o(159),p=o.n(d),u=o(113),E=o.n(u),m=o(732),g={};g.styleTagTransform=E(),g.setAttributes=c(),g.insert=i().bind(null,"head"),g.domAPI=A(),g.insertStyleElement=p(),t()(m.A,g),m.A&&m.A.locals&&m.A.locals},213:(n,e,o)=>{var r=o(72),t=o.n(r),a=o(825),A=o.n(a),s=o(659),i=o.n(s),l=o(56),c=o.n(l),d=o(159),p=o.n(d),u=o(113),E=o.n(u),m=o(618),g={};g.styleTagTransform=E(),g.setAttributes=c(),g.insert=i().bind(null,"head"),g.domAPI=A(),g.insertStyleElement=p(),t()(m.A,g),m.A&&m.A.locals&&m.A.locals},312:(n,e,o)=>{var r=o(848),t=o(338),a=o(357);const A=document.getElementById("root");A?t.createRoot(A).render((0,r.jsx)(a.A,{})):console.error("Root container not found")},317:(n,e,o)=>{o.d(e,{A:()=>s});var r=o(354),t=o.n(r),a=o(314),A=o.n(a)()(t());A.push([n.id,"/* App Component Styles */\n\n.app-container {\n  width: 350px;\n  min-height: 500px;\n  background-color: #f5f5f5;\n}\n\n.loading-state {\n  padding: 20px;\n  text-align: center;\n  color: #666;\n}\n\n.error-state {\n  padding: 20px;\n  color: #d32f2f;\n  text-align: center;\n}\n\n.retry-button {\n  margin-top: 10px;\n  padding: 8px 16px;\n  background-color: #1976d2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.retry-button:hover {\n  background-color: #1565c0;\n}","",{version:3,sources:["webpack://./src/popup/App.css"],names:[],mappings:"AAAA,yBAAyB;;AAEzB;EACE,YAAY;EACZ,iBAAiB;EACjB,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,cAAc;EACd,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,yBAAyB;EACzB,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,yBAAyB;AAC3B",sourcesContent:["/* App Component Styles */\n\n.app-container {\n  width: 350px;\n  min-height: 500px;\n  background-color: #f5f5f5;\n}\n\n.loading-state {\n  padding: 20px;\n  text-align: center;\n  color: #666;\n}\n\n.error-state {\n  padding: 20px;\n  color: #d32f2f;\n  text-align: center;\n}\n\n.retry-button {\n  margin-top: 10px;\n  padding: 8px 16px;\n  background-color: #1976d2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.retry-button:hover {\n  background-color: #1565c0;\n}"],sourceRoot:""}]);const s=A},357:(n,e,o)=>{o.d(e,{A:()=>c});var r=o(848),t=o(540),a=o(79),A=o(580),s=o(936),i=o(536),l=o(698);o(74);const c=()=>{const[n,e]=(0,t.useState)("login"),[o,c]=(0,t.useState)(null),[d,p]=(0,t.useState)(null),[u,E]=(0,t.useState)(null),[m,g]=(0,t.useState)(!0),[b,B]=(0,t.useState)(null);(0,t.useEffect)(()=>{x()},[]);const x=async()=>{try{g(!0),B(null);const n=await f({type:"CHECK_AUTH"});if(!n||!n.success)throw new Error(n&&n.error||"Failed to check authentication");n.data.isAuthenticated?(c(n.data.user),e("balance"),await C(n.data.user)):e("login")}catch(n){console.error("Error checking auth status:",n),B(n instanceof Error?n.message:"Authentication check failed"),e("login")}finally{g(!1)}},C=async n=>{try{console.log("Loading user data for:",n),console.log("Fetching wallet data from API...");const e=await a.ApiService.getUserWalletByEmail(n.email);if(e&&e.success&&e.data){console.log("Wallet data loaded:",e.data);const n=e.data.balances.find(n=>"native"===n.type),o={native:n?.balance||"0",assets:e.data.balances.filter(n=>"native"!==n.type).map(n=>({assetCode:n.type,assetIssuer:"",balance:n.balance}))};p(o)}else console.warn("No wallet data returned from API");const o=await f({type:"GET_USER_DATA"});o&&o.success&&E(o.data.adStats)}catch(n){console.error("Error loading user data:",n)}},f=n=>(console.log("üì§ Sending message to background:",n),new Promise(e=>{try{if(!chrome?.runtime?.sendMessage)return console.error("‚ùå Chrome runtime sendMessage not available"),void e({success:!1,error:"Chrome runtime not available"});chrome.runtime.sendMessage(n,n=>{chrome.runtime.lastError?(console.error("üí• Chrome runtime error:",chrome.runtime.lastError),e({success:!1,error:chrome.runtime.lastError.message||"Runtime error"})):n?(console.log("‚úÖ Response received:",n),e(n)):(console.error("‚ùå No response received from background"),e({success:!1,error:"No response received"}))})}catch(n){console.error("üí• Error sending message:",n),e({success:!1,error:"Failed to send message"})}})),h=async(n,o)=>{c(n),e("balance"),await C(n)},k=async()=>{try{await f({type:"LOGOUT"}),c(null),p(null),E(null),e("login")}catch(n){console.error("Error logging out:",n)}},y=n=>{e(n)};return m?(0,r.jsx)("div",{className:"loading-state",children:(0,r.jsx)("div",{children:"Loading..."})}):b?(0,r.jsxs)("div",{className:"error-state",children:[(0,r.jsxs)("div",{children:["Error: ",b]}),(0,r.jsx)("button",{onClick:x,className:"retry-button",children:"Retry"})]}):(0,r.jsx)("div",{className:"app-container",children:(()=>{switch(n){case"login":return(0,r.jsx)(A.A,{onLogin:h});case"balance":return(0,r.jsx)(s.A,{user:o,balance:d,onNavigate:y,onLogout:k});case"stats":return(0,r.jsx)(i.A,{user:o,adStats:u,onNavigate:y,onLogout:k});case"withdraw":return(0,r.jsx)(l.A,{user:o,balance:d,onNavigate:y,onLogout:k});default:return(0,r.jsx)("div",{children:"Page not found"})}})()})}},383:(n,e,o)=>{var r=o(72),t=o.n(r),a=o(825),A=o.n(a),s=o(659),i=o.n(s),l=o(56),c=o.n(l),d=o(159),p=o.n(d),u=o(113),E=o.n(u),m=o(472),g={};g.styleTagTransform=E(),g.setAttributes=c(),g.insert=i().bind(null,"head"),g.domAPI=A(),g.insertStyleElement=p(),t()(m.A,g),m.A&&m.A.locals&&m.A.locals},441:(n,e,o)=>{o.d(e,{AuthService:()=>r});class r{static async isAuthenticated(){return new Promise(n=>{chrome.storage.local.get([this.STORAGE_KEYS.USER,this.STORAGE_KEYS.AUTH_TOKEN],e=>{const o=e.user&&e.user.id&&e.user.email,r=Boolean(e.authToken);n(Boolean(o&&r))})})}static async getCurrentUser(){return new Promise(n=>{chrome.storage.local.get([this.STORAGE_KEYS.USER],e=>{n(e.user||null)})})}static async setUser(n,e){return new Promise(o=>{const r={user:n,authToken:e};chrome.storage.local.set(r,()=>{chrome.storage.local.set({[this.STORAGE_KEYS.LAST_LOGIN]:Date.now()},()=>{o()})})})}static async logout(){return new Promise(n=>{chrome.storage.local.remove([this.STORAGE_KEYS.USER,this.STORAGE_KEYS.AUTH_TOKEN,this.STORAGE_KEYS.LAST_LOGIN],()=>{n()})})}static async getAuthToken(){return new Promise(n=>{chrome.storage.local.get([this.STORAGE_KEYS.AUTH_TOKEN],e=>{n(e.authToken||null)})})}static redirectToLogin(){chrome.tabs.create({url:"https://your-website.com/login"})}static async checkAuthenticationStatus(){const n=await this.isAuthenticated();return{isAuthenticated:n,user:n?await this.getCurrentUser():null}}static async refreshAuthToken(){try{return!!await this.getCurrentUser()&&!!await this.getAuthToken()}catch(n){return console.error("Error refreshing auth token:",n),!1}}}r.STORAGE_KEYS={USER:"user",AUTH_TOKEN:"authToken",LAST_LOGIN:"lastLogin"}},472:(n,e,o)=>{o.d(e,{A:()=>s});var r=o(354),t=o.n(r),a=o(314),A=o.n(a)()(t());A.push([n.id,"/* Balance.css */\n.balance-container {\n  padding: 20px;\n  height: 460px;\n  display: flex;\n  flex-direction: column;\n}\n\n.balance-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.balance-title {\n  margin: 0;\n  color: #1976d2;\n  font-size: 18px;\n}\n\n.logout-button {\n  padding: 6px 12px;\n  background-color: transparent;\n  color: #666;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.user-info-card {\n  margin-bottom: 20px;\n  padding: 15px;\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n}\n\n.user-email-label {\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 5px;\n}\n\n.user-email {\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.wallet-address {\n  font-size: 12px;\n  color: #999;\n  margin-top: 8px;\n}\n\n.balance-card {\n  flex: 1;\n  margin-bottom: 20px;\n  padding: 20px;\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n}\n\n.balance-header-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.balance-subtitle {\n  margin: 0;\n  font-size: 16px;\n}\n\n.refresh-button {\n  padding: 4px 8px;\n  background-color: transparent;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.refresh-button:disabled {\n  cursor: not-allowed;\n}\n\n.error-message {\n  color: #d32f2f;\n  font-size: 14px;\n  margin-bottom: 15px;\n  padding: 8px;\n  background-color: #ffebee;\n  border-radius: 4px;\n}\n\n.native-balance {\n  margin-bottom: 15px;\n}\n\n.balance-amount {\n  font-size: 24px;\n  font-weight: bold;\n  color: #1976d2;\n}\n\n.balance-label {\n  font-size: 12px;\n  color: #666;\n}\n\n.assets-section {\n  margin-top: 15px;\n}\n\n.assets-title {\n  font-size: 14px;\n  font-weight: 500;\n  margin-bottom: 8px;\n}\n\n.asset-item {\n  font-size: 14px;\n  margin-bottom: 5px;\n}\n\n.no-balance {\n  color: #666;\n  text-align: center;\n  padding: 20px;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n.stats-button {\n  flex: 1;\n  padding: 12px;\n  background-color: #f5f5f5;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.withdraw-button {\n  flex: 1;\n  padding: 12px;\n  background-color: #1976d2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.withdraw-button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.no-user-data {\n  padding: 20px;\n  text-align: center;\n}","",{version:3,sources:["webpack://./src/popup/pages/Balance/Balance.css"],names:[],mappings:"AAAA,gBAAgB;AAChB;EACE,aAAa;EACb,aAAa;EACb,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EACE,SAAS;EACT,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,iBAAiB;EACjB,6BAA6B;EAC7B,WAAW;EACX,sBAAsB;EACtB,kBAAkB;EAClB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,mBAAmB;EACnB,aAAa;EACb,uBAAuB;EACvB,kBAAkB;EAClB,yBAAyB;AAC3B;;AAEA;EACE,eAAe;EACf,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,eAAe;AACjB;;AAEA;EACE,OAAO;EACP,mBAAmB;EACnB,aAAa;EACb,uBAAuB;EACvB,kBAAkB;EAClB,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EACE,SAAS;EACT,eAAe;AACjB;;AAEA;EACE,gBAAgB;EAChB,6BAA6B;EAC7B,cAAc;EACd,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,cAAc;EACd,eAAe;EACf,mBAAmB;EACnB,YAAY;EACZ,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,WAAW;AACb;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,aAAa;AACf;;AAEA;EACE,aAAa;EACb,SAAS;AACX;;AAEA;EACE,OAAO;EACP,aAAa;EACb,yBAAyB;EACzB,cAAc;EACd,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,OAAO;EACP,aAAa;EACb,yBAAyB;EACzB,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB",sourcesContent:["/* Balance.css */\n.balance-container {\n  padding: 20px;\n  height: 460px;\n  display: flex;\n  flex-direction: column;\n}\n\n.balance-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.balance-title {\n  margin: 0;\n  color: #1976d2;\n  font-size: 18px;\n}\n\n.logout-button {\n  padding: 6px 12px;\n  background-color: transparent;\n  color: #666;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.user-info-card {\n  margin-bottom: 20px;\n  padding: 15px;\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n}\n\n.user-email-label {\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 5px;\n}\n\n.user-email {\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.wallet-address {\n  font-size: 12px;\n  color: #999;\n  margin-top: 8px;\n}\n\n.balance-card {\n  flex: 1;\n  margin-bottom: 20px;\n  padding: 20px;\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n}\n\n.balance-header-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.balance-subtitle {\n  margin: 0;\n  font-size: 16px;\n}\n\n.refresh-button {\n  padding: 4px 8px;\n  background-color: transparent;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.refresh-button:disabled {\n  cursor: not-allowed;\n}\n\n.error-message {\n  color: #d32f2f;\n  font-size: 14px;\n  margin-bottom: 15px;\n  padding: 8px;\n  background-color: #ffebee;\n  border-radius: 4px;\n}\n\n.native-balance {\n  margin-bottom: 15px;\n}\n\n.balance-amount {\n  font-size: 24px;\n  font-weight: bold;\n  color: #1976d2;\n}\n\n.balance-label {\n  font-size: 12px;\n  color: #666;\n}\n\n.assets-section {\n  margin-top: 15px;\n}\n\n.assets-title {\n  font-size: 14px;\n  font-weight: 500;\n  margin-bottom: 8px;\n}\n\n.asset-item {\n  font-size: 14px;\n  margin-bottom: 5px;\n}\n\n.no-balance {\n  color: #666;\n  text-align: center;\n  padding: 20px;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n.stats-button {\n  flex: 1;\n  padding: 12px;\n  background-color: #f5f5f5;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.withdraw-button {\n  flex: 1;\n  padding: 12px;\n  background-color: #1976d2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.withdraw-button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.no-user-data {\n  padding: 20px;\n  text-align: center;\n}"],sourceRoot:""}]);const s=A},527:(n,e,o)=>{var r=o(72),t=o.n(r),a=o(825),A=o.n(a),s=o(659),i=o.n(s),l=o(56),c=o.n(l),d=o(159),p=o.n(d),u=o(113),E=o.n(u),m=o(856),g={};g.styleTagTransform=E(),g.setAttributes=c(),g.insert=i().bind(null,"head"),g.domAPI=A(),g.insertStyleElement=p(),t()(m.A,g),m.A&&m.A.locals&&m.A.locals},536:(n,e,o)=>{o.d(e,{A:()=>a});var r=o(848),t=o(540);o(527);const a=({user:n,adStats:e,onNavigate:o,onLogout:a})=>{const[A,s]=(0,t.useState)(e),[i,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null);(0,t.useEffect)(()=>{n&&!A&&p()},[n]);const p=async()=>{if(n){l(!0),d(null);try{const n=await u({type:"GET_USER_DATA"});n&&n.success&&n.data.adStats?s(n.data.adStats):s({totalAdsViewed:1234,totalRevenue:"45.6789",revenueThisMonth:"12.3456",revenueToday:"2.1000"})}catch(n){console.error("Error refreshing stats:",n),d("Failed to refresh statistics")}finally{l(!1)}}},u=n=>(console.log("Stats: Sending message to background:",n),new Promise(e=>{try{if(!chrome.runtime)return console.error("Chrome runtime not available"),void e({success:!1,error:"Chrome runtime not available"});chrome.runtime.sendMessage(n,n=>{console.log("Stats: Received response from background:",n),chrome.runtime.lastError?(console.error("Chrome runtime error:",chrome.runtime.lastError),e({success:!1,error:chrome.runtime.lastError.message})):n?e(n):(console.error("No response received from background"),e({success:!1,error:"No response received"}))})}catch(n){console.error("Error sending message:",n),e({success:!1,error:"Failed to send message"})}})),E=n=>parseFloat(n).toFixed(4),m=()=>{o("balance")};return n?(0,r.jsxs)("div",{className:"stats-container",children:[(0,r.jsxs)("div",{className:"stats-header",children:[(0,r.jsx)("button",{onClick:m,className:"back-button",children:"‚Üê Back"}),(0,r.jsx)("h2",{className:"stats-title",children:"Ad Statistics"}),(0,r.jsx)("button",{onClick:a,className:"logout-button",children:"Logout"})]}),(0,r.jsx)("div",{className:"refresh-section",children:(0,r.jsx)("button",{onClick:p,disabled:i,className:"refresh-button "+(i?"loading":""),children:i?"Refreshing...":"Refresh Stats"})}),c&&(0,r.jsx)("div",{className:"error-message",children:c}),(0,r.jsx)("div",{className:"stats-content",children:A?(0,r.jsxs)("div",{className:"stats-cards",children:[(0,r.jsxs)("div",{className:"total-ads-card",children:[(0,r.jsx)("div",{className:"total-ads-value",children:A.totalAdsViewed.toLocaleString()}),(0,r.jsx)("div",{className:"total-ads-label",children:"Total Ads Viewed"})]}),(0,r.jsxs)("div",{className:"revenue-cards",children:[(0,r.jsxs)("div",{className:"revenue-card",children:[(0,r.jsxs)("div",{className:"revenue-value",children:[E(A.totalRevenue)," XLM"]}),(0,r.jsx)("div",{className:"revenue-label",children:"Total Revenue"})]}),(0,r.jsxs)("div",{className:"revenue-card",children:[(0,r.jsxs)("div",{className:"revenue-value",children:[E(A.revenueThisMonth)," XLM"]}),(0,r.jsx)("div",{className:"revenue-label",children:"This Month"})]})]}),(0,r.jsxs)("div",{className:"today-revenue",children:[(0,r.jsxs)("div",{className:"today-value",children:[E(A.revenueToday)," XLM"]}),(0,r.jsx)("div",{className:"today-label",children:"Today's Revenue"})]})]}):(0,r.jsx)("div",{className:"no-stats",children:i?"Loading statistics...":"No statistics available"})}),(0,r.jsxs)("div",{className:"action-buttons",children:[(0,r.jsx)("button",{onClick:m,className:"secondary-button",children:"View Balance"}),(0,r.jsx)("button",{onClick:()=>{o("withdraw")},className:"primary-button",children:"Withdraw Funds"})]})]}):(0,r.jsx)("div",{className:"no-user-data",children:(0,r.jsx)("div",{children:"No user data available"})})}},580:(n,e,o)=>{o.d(e,{A:()=>s});var r=o(848),t=o(540),a=o(441),A=o(79);o(115);const s=({onLogin:n})=>{const[e,o]=(0,t.useState)(""),[s,i]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),[d,p]=(0,t.useState)(null);return(0,r.jsxs)("div",{className:"login-container",children:[(0,r.jsxs)("div",{className:"login-header",children:[(0,r.jsx)("h2",{className:"login-title",children:"Stellar Web3"}),(0,r.jsx)("p",{className:"login-subtitle",children:"Please login to continue"})]}),(0,r.jsxs)("div",{className:"login-content",children:[(0,r.jsxs)("form",{onSubmit:async o=>{if(o.preventDefault(),!l){c(!0),p(null);try{console.log("üöÄ Starting login process..."),console.log("üîç Testing API connection...");const o=await A.ApiService.testConnection();if(!o.success)throw new Error(`API Connection Failed: ${o.error}`);console.log("‚úÖ API connection successful, proceeding with login..."),console.log("üì° Sending login request...");const r=await A.ApiService.login(e,s);if(!r.success||!r.data)throw console.error("Login failed:",r.error),new Error(r.error||"Login failed");{console.log("Login response data:",r.data);const e=r.data;if(!e.token||!e.user)throw new Error("Invalid response from server - missing token or user data");const o=e.user,t=["id","email","name","publicKey"];for(const n of t)if(!o[n])throw console.error(`Missing required field: ${n}`,o),new Error(`Invalid response from server - missing ${n}`);const A={id:o.id.toString(),email:o.email,name:o.name,publicKey:o.publicKey,userType:o.userType||"user",message:e.message};console.log("Created user object:",A),await a.AuthService.setUser(A,e.token),n(A,e.token)}}catch(n){console.error("Login error:",n),n instanceof TypeError&&n.message.includes("fetch")?p("Unable to connect to server. Please check your connection."):p(n instanceof Error?n.message:"Login failed")}finally{c(!1)}}},className:"login-form",children:[(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:n=>o(n.target.value),required:!0,className:"form-input"})}),(0,r.jsx)("div",{className:"form-group-large",children:(0,r.jsx)("input",{type:"password",placeholder:"Password",value:s,onChange:n=>i(n.target.value),required:!0,className:"form-input"})}),d&&(0,r.jsx)("div",{className:"error-message",children:d}),(0,r.jsx)("button",{type:"submit",disabled:l,className:"login-button",children:l?"Logging in...":"Login"})]}),(0,r.jsxs)("div",{className:"signup-section",children:[(0,r.jsx)("p",{className:"signup-text",children:"Don't have an account?"}),(0,r.jsx)("button",{onClick:()=>{a.AuthService.redirectToLogin()},className:"signup-button",children:"Sign up on website"}),(0,r.jsxs)("div",{className:"test-mode-section",children:[(0,r.jsx)("button",{onClick:async()=>{c(!0),p(null);try{const e={id:"test-user-123",email:"test@example.com",name:"Test User",publicKey:"GCKFBEIYTKP6RCZNVPH73XL77ZMZ7CDIXKIL5DFDT7NBKZRDH6LVFV7Y",userType:"test",message:"Test login successful"},o="test-token-"+Date.now();console.log("Skip login activated - Test mode"),await a.AuthService.setUser(e,o),n(e,o)}catch(n){console.error("Mock login error:",n),p(n instanceof Error?n.message:"Test login failed")}finally{c(!1)}},disabled:l,className:"skip-login-button",children:l?"Logging in...":"üß™ Skip Login (Test Mode)"}),(0,r.jsx)("p",{className:"test-mode-note",children:"For testing purposes only"})]})]})]})]})}},618:(n,e,o)=>{o.d(e,{A:()=>s});var r=o(354),t=o.n(r),a=o(314),A=o.n(a)()(t());A.push([n.id,'/* Withdraw Component Styles */\n\n.withdraw-no-user {\n  padding: 20px;\n  text-align: center;\n}\n\n.withdraw-container {\n  padding: 20px;\n  height: 460px;\n  display: flex;\n  flex-direction: column;\n}\n\n.withdraw-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.withdraw-back-button {\n  padding: 8px 12px;\n  background-color: transparent;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  margin-right: 10px;\n}\n\n.withdraw-back-button:hover {\n  background-color: #e3f2fd;\n}\n\n.withdraw-title {\n  margin: 0;\n  color: #1976d2;\n  font-size: 18px;\n  flex: 1;\n}\n\n.withdraw-logout-button {\n  padding: 6px 12px;\n  background-color: transparent;\n  color: #666;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.withdraw-logout-button:hover {\n  background-color: #f5f5f5;\n}\n\n.balance-card {\n  padding: 20px;\n  background-color: #e8f5e8;\n  border-radius: 8px;\n  border: 1px solid #c8e6c9;\n  text-align: center;\n  margin-bottom: 25px;\n}\n\n.balance-label {\n  font-size: 14px;\n  color: #2e7d32;\n  margin-bottom: 5px;\n}\n\n.balance-value {\n  font-size: 20px;\n  font-weight: bold;\n  color: #1b5e20;\n}\n\n.withdraw-form {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\n.form-group-small {\n  margin-bottom: 15px;\n}\n\n.form-label {\n  font-size: 14px;\n  font-weight: 500;\n  margin-bottom: 10px;\n  display: block;\n}\n\n.form-label-small {\n  font-size: 14px;\n  font-weight: 500;\n  margin-bottom: 8px;\n  display: block;\n}\n\n.amount-options {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.amount-option {\n  display: flex;\n  align-items: center;\n  padding: 12px;\n  border: 1px solid #e0e0e0;\n  border-radius: 6px;\n  background-color: white;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.amount-option:hover {\n  border-color: #1976d2;\n  background-color: #f5f5f5;\n}\n\n.amount-option.selected {\n  border-color: #1976d2;\n  background-color: #e3f2fd;\n}\n\n.amount-option input[type="radio"] {\n  margin-right: 10px;\n}\n\n.amount-option-icon {\n  font-size: 18px;\n  margin-right: 12px;\n}\n\n.amount-option-content {\n  flex: 1;\n}\n\n.amount-option-label {\n  font-weight: 500;\n  margin-bottom: 2px;\n}\n\n.amount-option-description {\n  font-size: 12px;\n  color: #666;\n}\n\n.input-container {\n  position: relative;\n}\n\n.custom-amount-input {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  font-size: 14px;\n  box-sizing: border-box;\n}\n\n.custom-amount-input:focus {\n  outline: none;\n  border-color: #1976d2;\n}\n\n.custom-amount-input:disabled {\n  background-color: #f5f5f5;\n}\n\n.input-suffix {\n  position: absolute;\n  right: 12px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #666;\n  font-size: 14px;\n  pointer-events: none;\n}\n\n.max-button {\n  position: absolute;\n  right: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n  padding: 4px 8px;\n  background-color: #f5f5f5;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 3px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.max-button:hover {\n  background-color: #e3f2fd;\n}\n\n.error-message {\n  color: #d32f2f;\n  font-size: 12px;\n  margin-top: 5px;\n}\n\n.error-card {\n  color: #d32f2f;\n  font-size: 14px;\n  margin-bottom: 15px;\n  padding: 10px;\n  background-color: #ffebee;\n  border-radius: 4px;\n}\n\n.success-card {\n  color: #2e7d32;\n  font-size: 14px;\n  margin-bottom: 15px;\n  padding: 10px;\n  background-color: #e8f5e8;\n  border-radius: 4px;\n}\n\n.info-message {\n  color: #666;\n  font-size: 12px;\n  margin-top: 5px;\n}\n\n.withdraw-actions {\n  display: flex;\n  gap: 10px;\n  margin-top: auto;\n}\n\n.withdraw-cancel-button {\n  flex: 1;\n  padding: 12px;\n  background-color: #f5f5f5;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.withdraw-cancel-button:hover {\n  background-color: #e3f2fd;\n}\n\n.withdraw-submit-button {\n  flex: 1;\n  padding: 12px;\n  background-color: #1976d2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  margin-top: auto;\n}\n\n.withdraw-submit-button:hover {\n  background-color: #1565c0;\n}\n\n.withdraw-submit-button:disabled,\n.withdraw-submit-button.disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.processing-message {\n  text-align: center;\n  padding: 20px;\n  background-color: #e3f2fd;\n  border-radius: 8px;\n  margin-bottom: 20px;\n}\n\n.processing-text {\n  color: #1976d2;\n  font-size: 14px;\n  margin-bottom: 10px;\n}\n\n.processing-details {\n  font-size: 12px;\n  color: #666;\n}\n\n.success-message {\n  text-align: center;\n  padding: 20px;\n  background-color: #e8f5e8;\n  border-radius: 8px;\n  margin-bottom: 20px;\n}\n\n.success-text {\n  color: #2e7d32;\n  font-size: 16px;\n  font-weight: 500;\n  margin-bottom: 10px;\n}\n\n.success-details {\n  font-size: 14px;\n  color: #666;\n}\n\n.transaction-id {\n  font-family: monospace;\n  background-color: #f5f5f5;\n  padding: 8px;\n  border-radius: 4px;\n  margin-top: 10px;\n  word-break: break-all;\n}',"",{version:3,sources:["webpack://./src/popup/pages/Withdraw/Withdraw.css"],names:[],mappings:"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",sourcesContent:['/* Withdraw Component Styles */\n\n.withdraw-no-user {\n  padding: 20px;\n  text-align: center;\n}\n\n.withdraw-container {\n  padding: 20px;\n  height: 460px;\n  display: flex;\n  flex-direction: column;\n}\n\n.withdraw-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.withdraw-back-button {\n  padding: 8px 12px;\n  background-color: transparent;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  margin-right: 10px;\n}\n\n.withdraw-back-button:hover {\n  background-color: #e3f2fd;\n}\n\n.withdraw-title {\n  margin: 0;\n  color: #1976d2;\n  font-size: 18px;\n  flex: 1;\n}\n\n.withdraw-logout-button {\n  padding: 6px 12px;\n  background-color: transparent;\n  color: #666;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.withdraw-logout-button:hover {\n  background-color: #f5f5f5;\n}\n\n.balance-card {\n  padding: 20px;\n  background-color: #e8f5e8;\n  border-radius: 8px;\n  border: 1px solid #c8e6c9;\n  text-align: center;\n  margin-bottom: 25px;\n}\n\n.balance-label {\n  font-size: 14px;\n  color: #2e7d32;\n  margin-bottom: 5px;\n}\n\n.balance-value {\n  font-size: 20px;\n  font-weight: bold;\n  color: #1b5e20;\n}\n\n.withdraw-form {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\n.form-group-small {\n  margin-bottom: 15px;\n}\n\n.form-label {\n  font-size: 14px;\n  font-weight: 500;\n  margin-bottom: 10px;\n  display: block;\n}\n\n.form-label-small {\n  font-size: 14px;\n  font-weight: 500;\n  margin-bottom: 8px;\n  display: block;\n}\n\n.amount-options {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.amount-option {\n  display: flex;\n  align-items: center;\n  padding: 12px;\n  border: 1px solid #e0e0e0;\n  border-radius: 6px;\n  background-color: white;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.amount-option:hover {\n  border-color: #1976d2;\n  background-color: #f5f5f5;\n}\n\n.amount-option.selected {\n  border-color: #1976d2;\n  background-color: #e3f2fd;\n}\n\n.amount-option input[type="radio"] {\n  margin-right: 10px;\n}\n\n.amount-option-icon {\n  font-size: 18px;\n  margin-right: 12px;\n}\n\n.amount-option-content {\n  flex: 1;\n}\n\n.amount-option-label {\n  font-weight: 500;\n  margin-bottom: 2px;\n}\n\n.amount-option-description {\n  font-size: 12px;\n  color: #666;\n}\n\n.input-container {\n  position: relative;\n}\n\n.custom-amount-input {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  font-size: 14px;\n  box-sizing: border-box;\n}\n\n.custom-amount-input:focus {\n  outline: none;\n  border-color: #1976d2;\n}\n\n.custom-amount-input:disabled {\n  background-color: #f5f5f5;\n}\n\n.input-suffix {\n  position: absolute;\n  right: 12px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #666;\n  font-size: 14px;\n  pointer-events: none;\n}\n\n.max-button {\n  position: absolute;\n  right: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n  padding: 4px 8px;\n  background-color: #f5f5f5;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 3px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.max-button:hover {\n  background-color: #e3f2fd;\n}\n\n.error-message {\n  color: #d32f2f;\n  font-size: 12px;\n  margin-top: 5px;\n}\n\n.error-card {\n  color: #d32f2f;\n  font-size: 14px;\n  margin-bottom: 15px;\n  padding: 10px;\n  background-color: #ffebee;\n  border-radius: 4px;\n}\n\n.success-card {\n  color: #2e7d32;\n  font-size: 14px;\n  margin-bottom: 15px;\n  padding: 10px;\n  background-color: #e8f5e8;\n  border-radius: 4px;\n}\n\n.info-message {\n  color: #666;\n  font-size: 12px;\n  margin-top: 5px;\n}\n\n.withdraw-actions {\n  display: flex;\n  gap: 10px;\n  margin-top: auto;\n}\n\n.withdraw-cancel-button {\n  flex: 1;\n  padding: 12px;\n  background-color: #f5f5f5;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.withdraw-cancel-button:hover {\n  background-color: #e3f2fd;\n}\n\n.withdraw-submit-button {\n  flex: 1;\n  padding: 12px;\n  background-color: #1976d2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  margin-top: auto;\n}\n\n.withdraw-submit-button:hover {\n  background-color: #1565c0;\n}\n\n.withdraw-submit-button:disabled,\n.withdraw-submit-button.disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.processing-message {\n  text-align: center;\n  padding: 20px;\n  background-color: #e3f2fd;\n  border-radius: 8px;\n  margin-bottom: 20px;\n}\n\n.processing-text {\n  color: #1976d2;\n  font-size: 14px;\n  margin-bottom: 10px;\n}\n\n.processing-details {\n  font-size: 12px;\n  color: #666;\n}\n\n.success-message {\n  text-align: center;\n  padding: 20px;\n  background-color: #e8f5e8;\n  border-radius: 8px;\n  margin-bottom: 20px;\n}\n\n.success-text {\n  color: #2e7d32;\n  font-size: 16px;\n  font-weight: 500;\n  margin-bottom: 10px;\n}\n\n.success-details {\n  font-size: 14px;\n  color: #666;\n}\n\n.transaction-id {\n  font-family: monospace;\n  background-color: #f5f5f5;\n  padding: 8px;\n  border-radius: 4px;\n  margin-top: 10px;\n  word-break: break-all;\n}'],sourceRoot:""}]);const s=A},698:(n,e,o)=>{o.d(e,{A:()=>a});var r=o(848),t=o(540);o(213);const a=({user:n,balance:e,onNavigate:o,onLogout:a})=>{const[A,s]=(0,t.useState)(null),[i,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[p,u]=(0,t.useState)(!1),[E,m]=(0,t.useState)(null),[g,b]=(0,t.useState)(null),B=e?parseFloat(e.native):0;return console.log("Withdraw page - balance object:",e),console.log("Withdraw page - native balance:",e?.native),console.log("Withdraw page - maxWithdrawAmount:",B),n?(0,r.jsxs)("div",{className:"withdraw-container",children:[(0,r.jsxs)("div",{className:"withdraw-header",children:[(0,r.jsx)("button",{onClick:()=>{o("balance")},className:"withdraw-back-button",children:"‚Üê Back"}),(0,r.jsx)("h2",{className:"withdraw-title",children:"Withdraw Funds"}),(0,r.jsx)("button",{onClick:a,className:"withdraw-logout-button",children:"Logout"})]}),(0,r.jsxs)("div",{className:"balance-card",children:[(0,r.jsx)("div",{className:"balance-label",children:"Available Balance"}),(0,r.jsxs)("div",{className:"balance-value",children:[e?parseFloat(e.native).toFixed(4):"0.0000"," XLM"]})]}),(0,r.jsxs)("form",{onSubmit:async o=>{if(o.preventDefault(),n&&A&&i&&c)if(!e||parseFloat(i)<=0||parseFloat(i)>parseFloat(e.native))m("Invalid amount");else{u(!0),m(null),b(null);try{const e=await(r={type:"SUBMIT_WITHDRAWAL",data:{userId:n.id,amount:i,method:A,destination:c}},console.log("Withdraw: Sending message to background:",r),new Promise(n=>{try{if(!chrome.runtime)return console.error("Chrome runtime not available"),void n({success:!1,error:"Chrome runtime not available"});chrome.runtime.sendMessage(r,e=>{console.log("Withdraw: Received response from background:",e),chrome.runtime.lastError?(console.error("Chrome runtime error:",chrome.runtime.lastError),n({success:!1,error:chrome.runtime.lastError.message})):e?n(e):(console.error("No response received from background"),n({success:!1,error:"No response received"}))})}catch(e){console.error("Error sending message:",e),n({success:!1,error:"Failed to send message"})}}));if(!e||!e.success)throw new Error(e&&e.error||"Withdrawal failed");{const n=e.data?.transactionHash?`Transaction submitted successfully!\nHash: ${e.data.transactionHash}\nStatus: ${e.data.status||"Pending"}`:"Withdrawal request submitted successfully!",o=e.data?.note?`${n}\n\nNote: ${e.data.note}`:n;b(o),l(""),d(""),s(null),console.log("Withdrawal successful:",e.data)}}catch(n){console.error("Error submitting withdrawal:",n),m(n instanceof Error?n.message:"Withdrawal failed")}finally{u(!1)}}else m("Please fill in all fields");var r},className:"withdraw-form",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Select Withdrawal Method:"}),(0,r.jsx)("div",{className:"amount-options",children:[{type:"pix",label:"PIX (Brazil)",icon:"üáßüá∑"},{type:"wallet",label:"Wallet Address",icon:"üíº"},{type:"metamask",label:"MetaMask",icon:"ü¶ä"}].map(n=>(0,r.jsxs)("button",{type:"button",onClick:()=>{return e=n.type,s(e),d(""),m(null),void b(null);var e},className:"amount-option "+(A===n.type?"selected":""),children:[(0,r.jsx)("span",{className:"amount-option-icon",children:n.icon}),n.label]},n.type))})]}),(0,r.jsxs)("div",{className:"form-group-small",children:[(0,r.jsx)("label",{className:"form-label-small",children:"Amount (XLM):"}),(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("input",{type:"number",step:"0.0001",min:"0",max:B,value:i,onChange:n=>l(n.target.value),placeholder:"0.0000",className:"custom-amount-input"}),(0,r.jsx)("button",{type:"button",onClick:()=>l(B.toString()),className:"max-button",children:"Max"})]})]}),A&&(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label-small",children:"Destination:"}),(0,r.jsx)("input",{type:"text",value:c,onChange:n=>d(n.target.value),placeholder:(()=>{switch(A){case"pix":return"Enter your PIX key (email, phone, or CPF)";case"wallet":return"Enter destination wallet address";case"metamask":return"MetaMask address will be detected automatically";default:return""}})(),disabled:"metamask"===A,className:"custom-amount-input"}),"metamask"===A&&(0,r.jsx)("div",{className:"info-message",children:"Connect MetaMask to auto-fill address"})]}),E&&(0,r.jsx)("div",{className:"error-card",children:E}),g&&(0,r.jsx)("div",{className:"success-card",children:g}),(0,r.jsx)("button",{type:"submit",disabled:p||!A||!i||!c,className:"withdraw-submit-button "+(!p&&A&&i&&c?"":"disabled"),children:p?"Processing...":"Submit Withdrawal"})]})]}):(0,r.jsx)("div",{className:"withdraw-no-user",children:(0,r.jsx)("div",{children:"No user data available"})})}},732:(n,e,o)=>{o.d(e,{A:()=>s});var r=o(354),t=o.n(r),a=o(314),A=o.n(a)()(t());A.push([n.id,"/* Login.css */\n.login-container {\n  padding: 20px;\n  height: 460px;\n  display: flex;\n  flex-direction: column;\n}\n\n.login-header {\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.login-title {\n  color: #1976d2;\n  margin: 0 0 10px 0;\n}\n\n.login-subtitle {\n  color: #666;\n  margin: 0;\n  font-size: 14px;\n}\n\n.login-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.login-form {\n  margin-bottom: 20px;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group-large {\n  margin-bottom: 20px;\n}\n\n.form-input {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 14px;\n  box-sizing: border-box;\n}\n\n.error-message {\n  color: #d32f2f;\n  margin-bottom: 15px;\n  font-size: 14px;\n  padding: 8px;\n  background-color: #ffebee;\n  border-radius: 4px;\n}\n\n.login-button {\n  width: 100%;\n  padding: 12px;\n  background-color: #1976d2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 16px;\n  cursor: pointer;\n  margin-bottom: 15px;\n}\n\n.login-button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.signup-section {\n  text-align: center;\n}\n\n.signup-text {\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 10px;\n}\n\n.signup-button {\n  padding: 8px 16px;\n  background-color: transparent;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  margin-bottom: 15px;\n}\n\n.test-mode-section {\n  margin-top: 10px;\n}\n\n.skip-login-button {\n  padding: 8px 16px;\n  background-color: #ff9800;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.skip-login-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.test-mode-note {\n  font-size: 11px;\n  color: #999;\n  margin: 5px 0 0 0;\n}","",{version:3,sources:["webpack://./src/popup/pages/Login/Login.css"],names:[],mappings:"AAAA,cAAc;AACd;EACE,aAAa;EACb,aAAa;EACb,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;EACE,cAAc;EACd,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,SAAS;EACT,eAAe;AACjB;;AAEA;EACE,OAAO;EACP,aAAa;EACb,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,aAAa;EACb,sBAAsB;EACtB,kBAAkB;EAClB,eAAe;EACf,sBAAsB;AACxB;;AAEA;EACE,cAAc;EACd,mBAAmB;EACnB,eAAe;EACf,YAAY;EACZ,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,aAAa;EACb,yBAAyB;EACzB,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;EACjB,6BAA6B;EAC7B,cAAc;EACd,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;EACjB,yBAAyB;EACzB,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,YAAY;EACZ,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,iBAAiB;AACnB",sourcesContent:["/* Login.css */\n.login-container {\n  padding: 20px;\n  height: 460px;\n  display: flex;\n  flex-direction: column;\n}\n\n.login-header {\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.login-title {\n  color: #1976d2;\n  margin: 0 0 10px 0;\n}\n\n.login-subtitle {\n  color: #666;\n  margin: 0;\n  font-size: 14px;\n}\n\n.login-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.login-form {\n  margin-bottom: 20px;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group-large {\n  margin-bottom: 20px;\n}\n\n.form-input {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 14px;\n  box-sizing: border-box;\n}\n\n.error-message {\n  color: #d32f2f;\n  margin-bottom: 15px;\n  font-size: 14px;\n  padding: 8px;\n  background-color: #ffebee;\n  border-radius: 4px;\n}\n\n.login-button {\n  width: 100%;\n  padding: 12px;\n  background-color: #1976d2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 16px;\n  cursor: pointer;\n  margin-bottom: 15px;\n}\n\n.login-button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.signup-section {\n  text-align: center;\n}\n\n.signup-text {\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 10px;\n}\n\n.signup-button {\n  padding: 8px 16px;\n  background-color: transparent;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  margin-bottom: 15px;\n}\n\n.test-mode-section {\n  margin-top: 10px;\n}\n\n.skip-login-button {\n  padding: 8px 16px;\n  background-color: #ff9800;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.skip-login-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.test-mode-note {\n  font-size: 11px;\n  color: #999;\n  margin: 5px 0 0 0;\n}"],sourceRoot:""}]);const s=A},856:(n,e,o)=>{o.d(e,{A:()=>s});var r=o(354),t=o.n(r),a=o(314),A=o.n(a)()(t());A.push([n.id,"/* Stats.css */\n.stats-container {\n  padding: 20px;\n  height: 460px;\n  display: flex;\n  flex-direction: column;\n}\n\n.stats-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.back-button {\n  padding: 8px 12px;\n  background-color: transparent;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  margin-right: 10px;\n}\n\n.stats-title {\n  margin: 0;\n  color: #1976d2;\n  font-size: 18px;\n  flex: 1;\n}\n\n.logout-button {\n  padding: 6px 12px;\n  background-color: transparent;\n  color: #666;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.refresh-section {\n  margin-bottom: 20px;\n}\n\n.refresh-stats-button {\n  padding: 8px 16px;\n  background-color: #f5f5f5;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.refresh-stats-button:disabled {\n  background-color: #ccc;\n  color: #666;\n  cursor: not-allowed;\n}\n\n.error-message {\n  color: #d32f2f;\n  font-size: 14px;\n  margin-bottom: 20px;\n  padding: 12px;\n  background-color: #ffebee;\n  border-radius: 4px;\n}\n\n.stats-content {\n  flex: 1;\n  margin-bottom: 20px;\n}\n\n.stats-cards {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.total-ads-card {\n  padding: 20px;\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n  text-align: center;\n}\n\n.total-ads-number {\n  font-size: 32px;\n  font-weight: bold;\n  color: #1976d2;\n  margin-bottom: 5px;\n}\n\n.total-ads-label {\n  font-size: 14px;\n  color: #666;\n}\n\n.revenue-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 10px;\n}\n\n.revenue-card {\n  padding: 15px;\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n  text-align: center;\n}\n\n.revenue-amount {\n  font-size: 18px;\n  font-weight: bold;\n  color: #2e7d32;\n  margin-bottom: 5px;\n}\n\n.revenue-label {\n  font-size: 12px;\n  color: #666;\n}\n\n.today-revenue-card {\n  padding: 15px;\n  background-color: #e8f5e8;\n  border-radius: 8px;\n  border: 1px solid #c8e6c9;\n  text-align: center;\n}\n\n.today-revenue-amount {\n  font-size: 20px;\n  font-weight: bold;\n  color: #1b5e20;\n  margin-bottom: 5px;\n}\n\n.today-revenue-label {\n  font-size: 14px;\n  color: #2e7d32;\n}\n\n.no-stats {\n  text-align: center;\n  padding: 40px;\n  color: #666;\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n.balance-button {\n  flex: 1;\n  padding: 12px;\n  background-color: #f5f5f5;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.withdraw-button {\n  flex: 1;\n  padding: 12px;\n  background-color: #1976d2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.no-user-data {\n  padding: 20px;\n  text-align: center;\n}","",{version:3,sources:["webpack://./src/popup/pages/Stats/Stats.css"],names:[],mappings:"AAAA,cAAc;AACd;EACE,aAAa;EACb,aAAa;EACb,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;EACjB,6BAA6B;EAC7B,cAAc;EACd,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,SAAS;EACT,cAAc;EACd,eAAe;EACf,OAAO;AACT;;AAEA;EACE,iBAAiB;EACjB,6BAA6B;EAC7B,WAAW;EACX,sBAAsB;EACtB,kBAAkB;EAClB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;EACjB,yBAAyB;EACzB,cAAc;EACd,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,sBAAsB;EACtB,WAAW;EACX,mBAAmB;AACrB;;AAEA;EACE,cAAc;EACd,eAAe;EACf,mBAAmB;EACnB,aAAa;EACb,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,OAAO;EACP,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,SAAS;AACX;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,kBAAkB;EAClB,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,cAAc;EACd,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,WAAW;AACb;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,SAAS;AACX;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,kBAAkB;EAClB,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,cAAc;EACd,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,WAAW;AACb;;AAEA;EACE,aAAa;EACb,yBAAyB;EACzB,kBAAkB;EAClB,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,cAAc;EACd,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,aAAa;EACb,WAAW;EACX,uBAAuB;EACvB,kBAAkB;EAClB,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,SAAS;AACX;;AAEA;EACE,OAAO;EACP,aAAa;EACb,yBAAyB;EACzB,cAAc;EACd,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,OAAO;EACP,aAAa;EACb,yBAAyB;EACzB,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB",sourcesContent:["/* Stats.css */\n.stats-container {\n  padding: 20px;\n  height: 460px;\n  display: flex;\n  flex-direction: column;\n}\n\n.stats-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.back-button {\n  padding: 8px 12px;\n  background-color: transparent;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  margin-right: 10px;\n}\n\n.stats-title {\n  margin: 0;\n  color: #1976d2;\n  font-size: 18px;\n  flex: 1;\n}\n\n.logout-button {\n  padding: 6px 12px;\n  background-color: transparent;\n  color: #666;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.refresh-section {\n  margin-bottom: 20px;\n}\n\n.refresh-stats-button {\n  padding: 8px 16px;\n  background-color: #f5f5f5;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.refresh-stats-button:disabled {\n  background-color: #ccc;\n  color: #666;\n  cursor: not-allowed;\n}\n\n.error-message {\n  color: #d32f2f;\n  font-size: 14px;\n  margin-bottom: 20px;\n  padding: 12px;\n  background-color: #ffebee;\n  border-radius: 4px;\n}\n\n.stats-content {\n  flex: 1;\n  margin-bottom: 20px;\n}\n\n.stats-cards {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.total-ads-card {\n  padding: 20px;\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n  text-align: center;\n}\n\n.total-ads-number {\n  font-size: 32px;\n  font-weight: bold;\n  color: #1976d2;\n  margin-bottom: 5px;\n}\n\n.total-ads-label {\n  font-size: 14px;\n  color: #666;\n}\n\n.revenue-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 10px;\n}\n\n.revenue-card {\n  padding: 15px;\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n  text-align: center;\n}\n\n.revenue-amount {\n  font-size: 18px;\n  font-weight: bold;\n  color: #2e7d32;\n  margin-bottom: 5px;\n}\n\n.revenue-label {\n  font-size: 12px;\n  color: #666;\n}\n\n.today-revenue-card {\n  padding: 15px;\n  background-color: #e8f5e8;\n  border-radius: 8px;\n  border: 1px solid #c8e6c9;\n  text-align: center;\n}\n\n.today-revenue-amount {\n  font-size: 20px;\n  font-weight: bold;\n  color: #1b5e20;\n  margin-bottom: 5px;\n}\n\n.today-revenue-label {\n  font-size: 14px;\n  color: #2e7d32;\n}\n\n.no-stats {\n  text-align: center;\n  padding: 40px;\n  color: #666;\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n.balance-button {\n  flex: 1;\n  padding: 12px;\n  background-color: #f5f5f5;\n  color: #1976d2;\n  border: 1px solid #1976d2;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.withdraw-button {\n  flex: 1;\n  padding: 12px;\n  background-color: #1976d2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.no-user-data {\n  padding: 20px;\n  text-align: center;\n}"],sourceRoot:""}]);const s=A},936:(n,e,o)=>{o.d(e,{A:()=>A});var r=o(848),t=o(540),a=o(79);o(383);const A=({user:n,balance:e,onNavigate:o,onLogout:A})=>{const[s,i]=(0,t.useState)(e),[l,c]=(0,t.useState)(!1),[d,p]=(0,t.useState)(null);(0,t.useEffect)(()=>{n&&!s&&u()},[n]);const u=async()=>{if(n){console.log("Refreshing balance for user:",{id:n.id,email:n.email,walletAddress:n.publicKey}),c(!0),p(null);try{console.log("Making Backend API request for user email:",n.email);const e=await a.ApiService.getUserWalletByEmail(n.email);if(!e||!e.success||!e.data)throw new Error("Failed to fetch wallet data from backend");console.log("Wallet data fetched successfully:",e.data);const o=e.data.balances.find(n=>"native"===n.type),r=e.data.balances.filter(n=>"native"!==n.type),t={native:o?.balance||"0",assets:r.map(n=>({assetCode:n.type,assetIssuer:"",balance:n.balance}))};console.log("Balance processed successfully:",t),i(t)}catch(n){console.error("Error refreshing balance:",n);const e=n instanceof Error?n.message:"Failed to refresh balance";e.includes("404")?p("Account not found. Make sure the account is created on the backend."):e.includes("network")||e.includes("fetch")?p("Network error. Please check your connection."):p(e)}finally{c(!1)}}else console.error("No user found for balance refresh")},E=n=>parseFloat(n).toFixed(4);return n?(0,r.jsxs)("div",{className:"balance-container",children:[(0,r.jsxs)("div",{className:"balance-header",children:[(0,r.jsx)("h2",{className:"balance-title",children:"My Wallet"}),(0,r.jsx)("button",{onClick:A,className:"logout-button",children:"Logout"})]}),(0,r.jsxs)("div",{className:"user-info-card",children:[(0,r.jsx)("div",{className:"user-email-label",children:"Email"}),(0,r.jsx)("div",{className:"user-email",children:n.email}),(0,r.jsxs)("div",{className:"wallet-address",children:["Wallet: ",n.publicKey.substring(0,8),"...",n.publicKey.substring(-8)]})]}),(0,r.jsxs)("div",{className:"balance-card",children:[(0,r.jsxs)("div",{className:"balance-header-row",children:[(0,r.jsx)("h3",{className:"balance-subtitle",children:"Balance"}),(0,r.jsx)("button",{onClick:u,disabled:l,className:"refresh-button",children:l?"Loading...":"Refresh"})]}),d&&(0,r.jsx)("div",{className:"error-message",children:d}),s?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"native-balance",children:[(0,r.jsxs)("div",{className:"balance-amount",children:[E(s.native)," XLM"]}),(0,r.jsx)("div",{className:"balance-label",children:"Native Lumens"})]}),s.assets.length>0&&(0,r.jsxs)("div",{className:"assets-section",children:[(0,r.jsx)("div",{className:"assets-title",children:"Other Assets:"}),s.assets.map((n,e)=>(0,r.jsxs)("div",{className:"asset-item",children:[E(n.balance)," ",n.assetCode]},e))]})]}):(0,r.jsx)("div",{className:"no-balance",children:l?"Loading balance...":"No balance data available"})]}),(0,r.jsxs)("div",{className:"action-buttons",children:[(0,r.jsx)("button",{onClick:()=>{o("stats")},className:"stats-button",children:"View Ad Stats"}),(0,r.jsx)("button",{onClick:()=>{o("withdraw")},disabled:!s||parseFloat(s.native)<=0,className:"withdraw-button",children:"Withdraw"})]})]}):(0,r.jsx)("div",{className:"no-user-data",children:(0,r.jsx)("div",{children:"No user data available"})})}}},o={};function r(n){var t=o[n];if(void 0!==t)return t.exports;var a=o[n]={id:n,exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,n=[],r.O=(e,o,t,a)=>{if(!o){var A=1/0;for(c=0;c<n.length;c++){for(var[o,t,a]=n[c],s=!0,i=0;i<o.length;i++)(!1&a||A>=a)&&Object.keys(r.O).every(n=>r.O[n](o[i]))?o.splice(i--,1):(s=!1,a<A&&(A=a));if(s){n.splice(c--,1);var l=t();void 0!==l&&(e=l)}}return e}a=a||0;for(var c=n.length;c>0&&n[c-1][2]>a;c--)n[c]=n[c-1];n[c]=[o,t,a]},r.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return r.d(e,{a:e}),e},r.d=(n,e)=>{for(var o in e)r.o(e,o)&&!r.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},r.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n={887:0};r.O.j=e=>0===n[e];var e=(e,o)=>{var t,a,[A,s,i]=o,l=0;if(A.some(e=>0!==n[e])){for(t in s)r.o(s,t)&&(r.m[t]=s[t]);if(i)var c=i(r)}for(e&&e(o);l<A.length;l++)a=A[l],r.o(n,a)&&n[a]&&n[a][0](),n[a]=0;return r.O(c)},o=globalThis.webpackChunkstellar_web3_browser_extension=globalThis.webpackChunkstellar_web3_browser_extension||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})(),r.nc=void 0;var t=r.O(void 0,[96],()=>r(312));t=r.O(t)})();